#summary Description of Collector module.
#labels Phase-Requirements,Phase-Design

= Collector =

Client-side metrics data acquisition (extraction) and transformation (aggregation).


*TODO: Add diagram of potentially supervised tiers (areas) of monitored system*


Modules:
  * Agent (Monitoring API - plug-in-able structure)
    * Active agents (actively executing/collecting metrics from monitored system)
      * JMX
      * SMTP
      * SQL query
    * Passive agents (monitoring real interaction with a system)
      * Web client-side monitoring
      * Java calls monitoring
      * Servlet/Actions classes monitoring

  * Sender (sending data by asynchronous messaging; Active MQ) 
  * Collector core (aggreagating metrics before sending to server) - sending data every 60sec (conf) or every 64kB (conf), Apache Camel


Layers/Agents:


|| . || . || Active agents || Passive agents ||
|| . || . || DBCallAgent || JmxServerAgent || PingAgent || ShellCallAgent || UrlCallAgent || SnmpAgent || JavaCallAgent || HttpClientAgent || JmsCallAgent || JmxNfServerAgent ||
|| . || OS ||   ||  ||


<table border="1">
<tr><th colspan="2">.</th><th colspan="2">Application</th><th colspan="5">Services</th><th colspan="3">Physical</th></tr>
<tr><th colspan="2">.</th><th>Your java app</th><th>Your web app.</th><th>JVM</th><th>DB</th><th>App.Server</th><th>Web Cont.</th><th>JMS Broker</th><th>OS</th><th>Net</th></tr>

<tr><th rowspan="4">PassiveAgent</th><th>JavaCallAgent</th><td>x</td><td>x</td><td>_</td><td>_</td><td>_</td><td>_</td><td>_</td><td>_</td><td>_</td></tr>
<tr><th>HttpClientAgent</th><td>_</td><td>x</td><td>_</td><td>_</td><td>_</td><td>_</td><td>_</td><td>_</td><td>_</td></tr>
<tr><th>JmsCallAgent</th><td>x</td><td>x</td><td>_</td><td>_</td><td>_</td><td>_</td><td>x</td><td>_</td><td>_</td></tr>
<tr><th>JmxNfServerAgent</th><td>x</td><td>x</td><td>?</td><td>_</td><td>?</td><td>?</td><td>?</td><td>_</td><td>_</td></tr>

<tr><th rowspan="6">ActiveAgent</th><th>JmxServerAgent</th><td>x</td><td>x</td><td>x</td><td>_</td><td>x</td><td>x</td><td>x</td><td>_</td><td>_</td></tr>
<tr><th>ShellCallAgent</th><td>_</td><td>_</td><td>_</td><td>_</td><td>_</td><td>_</td><td>_</td><td>x</td><td>x</td></tr>
<tr><th>PingAgent</th><td>_</td><td>_</td><td>_</td><td>_</td><td>_</td><td>_</td><td>x</td><td>x</td><td>x</td></tr>
<tr><th>DBCallAgent</th><td>x</td><td>x</td><td>x</td><td>.</td><td>.</td><td>.</td><td>.</td><td>.</td><td>_</td></tr>
<tr><th>UrlCallAgent</th><td>_</td><td>x</td><td>x</td><td>_</td><td>_</td><td>.</td><td>_</td><td>_</td><td>?</td></tr>
<tr><th>SnmpAgent</th><td>_</td><td>_</td><td>_</td><td>.</td><td>.</td><td>?</td><td>?</td><td>x</td><td>x</td></tr>
</table>
